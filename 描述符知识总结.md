## 对描述符的认识梳理：
- 首先确定描述符是一个对象，这个对象实现了描述符协议
- 描述符协议是指实现了`__get__, __set__, __del__`这些方法中的一个或几个
    - 定义了`__get__, __set__`叫数据描述符（也叫资料描述符）
    - 只定义了`__get__` 叫非数据描述符 （也叫非资料描述符）
- 描述符仅是针对类属性而言，若将描述符赋值给实例属性不会发生错误，但失去了描述符本身的意义。

- 对属性访问的认知，如果我们访问一个实例的属性，一般情况下我们都是这样认为的，查找顺序如下：
    - 在实例的`__dict__`中查找（实例属性）
    - 在生成实例的类的`__dict__`中查找（类属性）
    - 在父类中查找，注意这里的父类也包括`object`，因为`object`类是所有类的基类(但是Python默认禁止`object`类和所有内置数据结构类型拥有任何属性)

- 特殊情况：当类属性是数据描述符时，会访问数据描述符中定义的`__get__`方法，若是给属性赋值，会通过数据描述符中定义的`__set__`方法赋值。
    - 若是通过实例访问属性obj.x，其中x是数据描述符，实际是得到如下的值`type(obj).__dict__['x'].__get__(obj, type(obj))`
    - 若是通过类访问属性cls.x，其中x是数据描述符，实际是得到如下的值`cls.__dict__['x'].__get__(None, cls)`

- 当类属性是非数据描述符时，实例obj.x总是期望返回实例自身的属性，`obj.__dict__['x']`，当实例属性不存在时，会去类属性中查找`type(obj).__dict__['x'].__get__(obj, type(obj))`，若类属性中也没有，则抛出异常

- **总结：寻找属性的优先级如下：数据描述符——实例变量——非数据描述符**

- 展开：在Python中定义的函数或者在类中定义的方法实际上是非资料描述符，若实例的属性和方法重名的时候，访问的是实例的属性



- Python对实例属性的实际查找过程如下：
    - 先在`类——基类`中查找，然后判断属性是否是描述符
        - 如果是不是描述符，按照`实例——类——基类`的顺序访问;
        - 如果是描述符，再判断是数据描述符还是非数据描述符
            - 如果是数据描述符，就按照`类——基类——实例`的顺序访问
            - 如果是非数据描述符，就按照`实例——类——基类`的顺序访问

- 在理解描述符的过程中，需要理解如下两点：“最终采用的优先级”和“搜索的优先级”
    - 搜索优先级：总是按照`类——基类——实例`的顺序搜索的，但并不是找到属性了就立即使用，还需要判断属性是否是描述器及描述器的类型
    - 最终采用的优先级：如果是数据描述器，就调用数据描述器的`__get__`方法，如果是非数据描述器，就调用实例属性，如果实例属性不存在，再调用非数据描述器的`__get__`方法